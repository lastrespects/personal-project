spring.config.import=optional:file:.env[.properties]

# -------------------------------------------------
# Application / Port
# -------------------------------------------------
spring.application.name=${MMB_APP_NAME:mmb}
server.port=${MMB_SERVER_PORT:8081}

# -------------------------------------------------
# JSP View
# -------------------------------------------------
spring.mvc.view.prefix=${MMB_JSP_VIEW_PREFIX:/view/}
spring.mvc.view.suffix=${MMB_JSP_VIEW_SUFFIX:.jsp}

# -------------------------------------------------
# File upload
# -------------------------------------------------
spring.servlet.multipart.enabled=${MMB_MULTIPART_ENABLED:true}
spring.servlet.multipart.max-file-size=${MMB_MULTIPART_MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${MMB_MULTIPART_MAX_REQUEST_SIZE:10MB}

# -------------------------------------------------
# DB (MariaDB - XAMPP)
# -------------------------------------------------
spring.datasource.driver-class-name=${MMB_DB_DRIVER:org.mariadb.jdbc.Driver}
spring.datasource.url=${MMB_DB_URL:jdbc:mariadb://localhost:3306/MMB_DB?serverTimezone=Asia/Seoul&characterEncoding=UTF-8}
spring.datasource.username=${MMB_DB_USERNAME:root}
spring.datasource.password=${MMB_DB_PASSWORD:}

# -------------------------------------------------
# JPA / Hibernate
# -------------------------------------------------
spring.jpa.hibernate.ddl-auto=${MMB_JPA_DDL_AUTO:validate}
spring.jpa.show-sql=${MMB_JPA_SHOW_SQL:true}
spring.jpa.properties.hibernate.format_sql=${MMB_HIBERNATE_FORMAT_SQL:true}

# ※ dialect는 굳이 지정 안 해도 자동 선택됨 (필요하면 env에서만 켜도 됨)
spring.jpa.properties.hibernate.dialect=${MMB_HIBERNATE_DIALECT:}

spring.jpa.hibernate.naming.physical-strategy=${MMB_HIBERNATE_PHYSICAL_STRATEGY:org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl}
spring.jpa.open-in-view=${MMB_JPA_OPEN_IN_VIEW:true}

# -------------------------------------------------
# Custom Settings
# -------------------------------------------------
custom.file.dir=${MMB_CUSTOM_FILE_DIR:d:/mwg/workspace/mmb/uploads}
daily.word.count=${MMB_DAILY_WORD_COUNT:30}

# -------------------------------------------------
# External APIs
# -------------------------------------------------
dictionary.api.base-url=${MMB_DICTIONARY_API_BASE_URL:https://api.dictionaryapi.dev/api/v2}
randomword.api.base-url=${MMB_RANDOMWORD_API_BASE_URL:https://random-word-api.vercel.app}

# DeepL Translation API
deepl.api.url=${MMB_DEEPL_API_URL:https://api-free.deepl.com/v2/translate}
deepl.api.key=${MMB_DEEPL_API_KEY:}

# -------------------------------------------------
# Logging / Security (dev)
# -------------------------------------------------
logging.level.root=INFO
logging.level.com.mmb=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG

# User Requested Debugs
logging.level.org.springframework.transaction=TRACE
logging.level.org.springframework.orm.jpa=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.file.name=${MMB_LOG_FILE_NAME:logs/app.log}

# -------------------------------------------------
# MyBatis (if used)
# -------------------------------------------------
mybatis.mapper-locations=${MMB_MYBATIS_MAPPER_LOCATIONS:classpath:/mappers/*.xml}

# -------------------------------------------------
# WebSocket (planned)
# -------------------------------------------------
spring.websocket.stomp.enabled=${MMB_WEBSOCKET_STOMP_ENABLED:true}

# -------------------------------------------------
# 기타 API 키
# -------------------------------------------------
custom.api.key=${MMB_CUSTOM_API_KEY:}

# -------------------------------------------------
# Mail (Gmail SMTP)
# -------------------------------------------------
spring.mail.host=${MMB_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MMB_MAIL_PORT:587}
spring.mail.username=${MMB_MAIL_USERNAME:}
spring.mail.password=${MMB_MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=${MMB_MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${MMB_MAIL_SMTP_STARTTLS:true}
